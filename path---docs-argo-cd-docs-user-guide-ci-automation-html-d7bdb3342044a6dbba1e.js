webpackJsonp([0xa163611ac08e],{579:function(e,o){e.exports={pathContext:{docHtml:'<h1>Automation from CI Pipelines</h1>\n<p>Argo CD follows the GitOps model of deployment, where desired configuration changes are first\npushed to Git, and the cluster state then syncs to the desired state in git. This is a departure\nfrom imperative pipelines which do not traditionally use Git repositories to hold application\nconfig.</p>\n<p>To push new container images into to a cluster managed by Argo CD, the following workflow (or\nvariations), might be used:</p>\n<h2>Build And Publish A New Container Image</h2>\n<pre><code class="language-bash">docker build -t mycompany/guestbook:v2.0 .\ndocker push mycompany/guestbook:v2.0\n</code></pre>\n<h2>Update The Local Manifests Using Your Preferred Templating Tool, And Push The Changes To Git</h2>\n<p>!!! tip\nThe use of a different Git repository to hold your kubernetes manifests (separate from\nyour application source code), is highly recommended. See <a href="best_practices.html">best practices</a>\nfor further rationale.</p>\n<pre><code class="language-bash">git clone https://github.com/mycompany/guestbook-config.git\ncd guestbook-config\n\n# kustomize\nkustomize edit set imagetag mycompany/guestbook:v2.0\n\n# ksonnet\nks param set guestbook image mycompany/guestbook:v2.0\n\n# plain yaml\nkubectl patch --local -f config-deployment.yaml -p \'{"spec":{"template":{"spec":{"containers":[{"name":"guestbook","image":"mycompany/guestbook:v2.0"}]}}}}\' -o yaml\n\ngit add . -m "Update guestbook to v2.0"\ngit push\n</code></pre>\n<h2>Synchronize The App (Optional)</h2>\n<p>For convenience, the argocd CLI can be downloaded directly from the API server. This is\nuseful so that the CLI used in the CI pipeline is always kept in-sync and uses argocd binary\nthat is always compatible with the Argo CD API server.</p>\n<pre><code class="language-bash">export ARGOCD_SERVER=argocd.mycompany.com\nexport ARGOCD_AUTH_TOKEN=&#x3C;JWT token generated from project>\ncurl -sSL -o /usr/local/bin/argocd https://${ARGOCD_SERVER}/download/argocd-linux-amd64\nargocd app sync guestbook\nargocd app wait guestbook\n</code></pre>\n<p>If <a href="auto_sync.html">automated synchronization</a> is configured for the application, this step is\nunnecessary. The controller will automatically detect the new config (fast tracked using a\n<a href="../operator-manual/webhook.html">webhook</a>, or polled every 3 minutes), and automatically sync the new manifests.</p>',docPath:"argo-cd/docs/user-guide/ci_automation",proj:"argo-cd"}}}});
//# sourceMappingURL=path---docs-argo-cd-docs-user-guide-ci-automation-html-d7bdb3342044a6dbba1e.js.map