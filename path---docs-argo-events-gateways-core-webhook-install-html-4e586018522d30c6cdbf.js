webpackJsonp([0xe7061c08196],{612:function(e,n){e.exports={pathContext:{docHtml:'<h1>Webhook Gateway &#x26; Sensor</h1>\n<p>REST api endpoints act as event sources for gateway</p>\n<ol>\n<li><a href="#example-event-sources-definition">Example event sources definition</a></li>\n<li><a href="#install-gateway">Install gateway</a></li>\n<li><a href="#install-sensor">Install sensor</a></li>\n<li><a href="#trigger-workflow">Trigger Workflow</a></li>\n</ol>\n<h2>Example event sources definition</h2>\n<pre><code class="language-yaml">apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: webhook-gateway-configmap\ndata:\n  # each event source defines - \n  # the port for HTTP server    \n  # endpoint to listen to\n  # acceptable http method\n  bar: |-    \n    port: "12000"\n    endpoint: "/bar"\n    method: "POST"  \n  foo: |-\n    port: "12000"\n    endpoint: "/foo"\n    method: "POST"\n</code></pre>\n<p>Create gateway event sources</p>\n<pre><code class="language-yaml">kubectl -n argo-events create -f  https://github.com/argoproj/argo-events/blob/master/examples/gateways/webhook-gateway-configmap.yaml\n</code></pre>\n<h2>Install gateway</h2>\n<ol>\n<li>\n<p><strong>Create gateway</strong></p>\n<pre><code class="language-yaml">kubectl -n argo-events create -f https://github.com/argoproj/argo-events/blob/master/examples/gateways/webhook-http.yaml\n</code></pre>\n</li>\n<li>\n<p><strong>Check the status of the gateway</strong></p>\n<pre><code class="language-yaml">kubectl -n argo-events describe gateway webhook-gateway-http\n</code></pre>\n<p>Make sure the gateway is in active state and all the event sources are in running state.</p>\n</li>\n</ol>\n<h2>Install Sensor</h2>\n<pre><code class="language-yaml">kubectl -n argo-events create -f https://github.com/argoproj/argo-events/blob/master/examples/sensors/webhook-http.yaml\n</code></pre>\n<h2>Trigger Workflow</h2>\n<p>Note: the <code>WEBHOOK_SERVICE_URL</code> will differ based on the Kubernetes cluster.</p>\n<pre><code>export WEBHOOK_SERVICE_URL=$(minikube service -n argo-events --url &#x3C;gateway_service_name>)\necho $WEBHOOK_SERVICE_URL\ncurl -d \'{"message":"this is my first webhook"}\' -H "Content-Type: application/json" -X POST $WEBHOOK_SERVICE_URL/foo\n</code></pre>\n<p><b>Note</b>: </p>\n<ul>\n<li>If you are facing an issue getting service url by running <code>minikube service -n argo-events --url &#x3C;gateway_service_name></code>, you can use <code>kubectl port-forward</code></li>\n<li>Open another terminal window and enter <code>kubectl port-forward -n argo-events &#x3C;name_of_the_webhook_gateway_pod> 9003:&#x3C;port_on_which_gateway_server_is_running></code></li>\n<li>You can now use <code>localhost:9003</code> to query webhook gateway</li>\n</ul>',docPath:"argo-events/gateways/core/webhook/install",proj:"argo-events"}}}});
//# sourceMappingURL=path---docs-argo-events-gateways-core-webhook-install-html-4e586018522d30c6cdbf.js.map