webpackJsonp([0x82f3f6ca3162],{538:function(e,o){e.exports={pathContext:{docHtml:'<h1>Automation from CI Pipelines</h1>\n<p>Argo CD follows the GitOps model of deployment, where desired configuration changes are first\npushed to git, and the cluster state then syncs to the desired state in git. This is a departure\nfrom imperative pipelines which do not traditionally use git repositories to hold application\nconfig.</p>\n<p>To push new container images into to a cluster managed by Argo CD, the following workflow (or\nvariations), might be used:</p>\n<ol>\n<li>\n<p>Build and publish a new container image</p>\n<pre><code>docker build -t mycompany/guestbook:v2.0 .\ndocker push mycompany/guestbook:v2.0\n</code></pre>\n</li>\n<li>\n<p>Update the local manifests using your preferred templating tool, and push the changes to git.</p>\n<p>NOTE: the use of a different git repository to hold your kubernetes manifests (separate from\nyour application source code), is highly recommended. See <a href="best_practices.html">best practices</a>\nfor further rationale.</p>\n<pre><code>git clone https://github.com/mycompany/guestbook-config.git\ncd guestbook-config\n\n# kustomize\nkustomize edit set imagetag mycompany/guestbook:v2.0\n\n# ksonnet\nks param set guestbook image mycompany/guestbook:v2.0\n\n# plain yaml\nkubectl patch --local -f config-deployment.yaml -p \'{"spec":{"template":{"spec":{"containers":[{"name":"guestbook","image":"mycompany/guestbook:v2.0"}]}}}}\' -o yaml\n\ngit add . -m "Update guestbook to v2.0"\ngit push\n</code></pre>\n</li>\n<li>\n<p>Synchronize the app (Optional)</p>\n<p>For convenience, the argocd CLI can be downloaded directly from the API server. This is\nuseful so that the CLI used in the CI pipeline is always kept in-sync and uses argocd binary\nthat is always compatible with the Argo CD API server.</p>\n<pre><code>export ARGOCD_SERVER=argocd.mycompany.com\nexport ARGOCD_AUTH_TOKEN=&#x3C;JWT token generated from project>\ncurl -sSL -o /usr/local/bin/argocd https://${ARGOCD_SERVER}/download/argocd-linux-amd64\nargocd app sync guestbook\nargocd app wait guestbook\n</code></pre>\n<p>If <a href="auto_sync.html">automated synchronization</a> is configured for the application, this step is\nunnecessary. The controller will automatically detect the new config (fast tracked using a\n<a href="webhook.html">webhook</a>, or polled every 3 minutes), and automatically sync the new manifests.</p>\n</li>\n</ol>',docPath:"argo-cd/docs/ci_automation",proj:"argo-cd"}}}});
//# sourceMappingURL=path---docs-argo-cd-docs-ci-automation-html-feea22cc932e9d3b369b.js.map