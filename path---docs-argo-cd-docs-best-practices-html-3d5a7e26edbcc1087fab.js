webpackJsonp([19109435545402],{527:function(e,n){e.exports={pathContext:{docHtml:'<h1>Best Practices</h1>\n<h2>Separating config vs. source code repositories</h2>\n<p>Using a separate git repository to hold your kubernetes manifests, keeping the config separate\nfrom your application source code, is highly recommended for the following reasons:</p>\n<ol>\n<li>\n<p>It provides a clean separation of application code vs. application config. There will be times\nwhen you wish to change over and not other. For example, you likely do <em>not</em> want to trigger\na build if you are updating an annotation in a spec.</p>\n</li>\n<li>\n<p>Cleaner audit log. For auditing purposes, a repo which only holds configuration will have a much\ncleaner git history of what changes were made, without the noise stemming from check-ins of\nnormal development activity.</p>\n</li>\n<li>\n<p>Your application may be comprised of services built from multiple git repositories, but is\ndeployed as a single unit. Often times, microservices applications are comprised of services\nwith different versioning schemes, and release cycles (e.g. ELK, Kafka + Zookeeper). It may not\nmake sense to store the manifests in one of the source code repositories of a single component.</p>\n</li>\n<li>\n<p>Separate repositories enables separation of access. The person who is developing the app, may\nnot necessarily be the same person who can/should affect production environment, either\nintentionally or unintentionally.</p>\n</li>\n<li>\n<p>If you are automating your CI pipeline, pushing manifest changes to the same git repository will\nlikely trigger an infinite loop of build jobs and git commit triggers. Pushing config changes to\na separate repo prevent this from happening.</p>\n</li>\n</ol>\n<h2>Leaving room for imperativeness</h2>\n<p>It may be desired to leave room for some imperativeness/automation, and not have everything defined\nin your git manifests. For example, if you want the number of your deployment\'s replicas to be\nmanaged by <a href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/">Horizontal Pod Autoscaler</a>,\nthen you would not want to track <code>replicas</code> in git.</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-deployment\nspec:\n  # do not include replicas in the manifests if you want replicas to be controlled by HPA\n  # replicas: 1 \n  template:\n    spec:\n      containers:\n      - image: nginx:1.7.9\n        name: nginx\n        ports:\n        - containerPort: 80\n...\n</code></pre>',docPath:"argo-cd/docs/best_practices",proj:"argo-cd"}}}});
//# sourceMappingURL=path---docs-argo-cd-docs-best-practices-html-3d5a7e26edbcc1087fab.js.map